workflows:
  ios-workflow:
    name: "iOS Workflow"
    environment:
      flutter: stable
      xcode: latest
      # If using a variable group in Codemagic for your credentials, list it here:
      groups:
        - "Nicholas Cooke"
    scripts:
      - name: "Build iOS"
        script: |
          echo "Building iOS..."
          # or real steps like:
          # flutter precache --ios
          # flutter pub get
          # cd ios
          # pod install
          # cd ..
          # flutter build ipa --release
    publishing:
      app_store_connect:
        api_key:
          key_id: $APP_STORE_CONNECT_KEY_ID
          issuer_id: $APP_STORE_CONNECT_ISSUER_ID
          private_key: $APP_STORE_CONNECT_PRIVATE_KEY
        export_method: app-store
